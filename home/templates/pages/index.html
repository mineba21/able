{% extends 'layouts/base.html' %}
{% load static %}
{% block content %}
<!-- [ Main Content ] start -->
<div class="row">
    <!-- Customer overview start -->
    <div class="col-md-12">
        <div class="card table-card">
            <div class="card-header">
                <h5>Campaign monitor</h5>
                <form>
                    <div class="row align-items-center">
                        <label for="select-line" class="col-auto col-form-label">라인 :</label>
                        <div class="col-sm-1">
                            <input type="text" id="select-line" class="form-control" list="line_list" >
                            <datalist id="line_list">
                                {% for line in line_list %}
                                    <option value="{{ line }}">
                                {% endfor %}
                            </datalist>
                        </div>
                        <label for="select-eqp" class="col-auto col-form-label">설비 :</label>
                        <div class="col" >
                            <input type="text" id="select-eqp" class="form-control" list="eqp_list" style="width:150px">
                            <datalist id="eqp_list">
                                {% for eqp in eqp_list %}
                                    <option value="{{ eqp }}">
                                {% endfor %}
                            </datalist>
                        </div>
                    </div>
                </form>
                <script>
                    // 설비 선택이 변경될 때마다 호출되는 함수
                    document.getElementById('select-eqp').addEventListener('change', function() {
                        var selectedEqp = this.value; // 선택된 설비
                        var lineSelect = document.getElementById('select-line'); // 라인 선택 요소
            
                        // 선택된 설비에 따라 라인 목록을 업데이트
                        if (selectedEqp === 'A') {
                            // A 설비에 대한 라인 목록을 설정
                            var lines = ['A1', 'A2', 'A3'];
                        } else if (selectedEqp === 'B') {
                            // B 설비에 대한 라인 목록을 설정
                            var lines = ['B1', 'B2', 'B3'];
                        } else {
                            // 다른 설비가 선택된 경우, 라인 목록을 비움
                            var lines = [];
                        }
            
                        // 라인 선택 요소의 옵션을 업데이트
                        lineSelect.innerHTML = '<option value="">선택하세요</option>'; // 기본값 추가
                        lines.forEach(function(line) {
                            lineSelect.innerHTML += '<option value="' + line + '">' + line + '</option>'; // 각 라인 옵션 추가
                        });
                    });
                </script>          
            </div>

        </div>
    </div>
    <!-- Customer overview end -->
</div>
<!-- [ Main Content ] end -->
{% endblock content %}
{% block extrajs %}
<!-- custom-chart js -->
<script src="{% static 'assets/js/pages/dashboard-main.js' %}"></script>
<!-- Apex Chart -->
<script src="{% static 'assets/js/plugins/apexcharts.min.js' %}"></script>
{% endblock extrajs %}